<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content ="ie=edge"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/mymeet.css">
    <title>My Meeting</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">My Meetings</a>
        <ul class="navbar-nav" style="display:flex; flex-direction: row;">
        
        <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/createmeet">Create a Meeting</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/profile">Profile</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/logout">Log out</a>
        </li>
        </ul> 
      </nav>

      <div class="meet-container">
      <% meets.forEach(function(meet){%> 
        
        <div class="meet-cell">
          <div class="meet-item meet-heading" style="grid-column: 1/ span 3;">
            <h5><%= meet.Department %> Department</h5>
          </div>
          <div class="meet-item meet-date">
            <p> <b>Date: </b> <%= meet.Date.toISOString().split('T')[0] %> <p>
            </div>
            <div class="meet-item meet-time">
              <p> <b>Time: </b> <%= formatTime(meet.Time) %> <p>
              </div>
              <div class="meet-item meet-loc">
                <p> <b>Location: </b> <%= meet.Location %> <p>
                </div>
                <div class="meet-item meet-agenda" style="grid-column: 1/ span 3;">
                  <p> <b>Agenda: </b> <%= meet.Agenda %> <p>
                  </div>
                  <div class="meet-item meet-zoom" style="grid-column: 1/ span 2;">
                    <p> <b>Zoom link: </b> <%= meet.zoom %> <p>
                    </div>
                    <div class="meet-item meet-host">
                      <p> <b>Host: </b> <%= meet.name %> <p>
                      </div>
                    </div>
      <% }) %> 
      </div>
      <%
          function formatTime(timeString){
              const time = new Date(`1970-01-01T${timeString}`);
              return time.toLocaleTimeString('en-US', {hour:'numeric', minute:'numeric', hour12:true});
          }
      %> 
</body>
</html>